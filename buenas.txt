#!/bin/bash

GIT_DIR=/home/ismaelph/hardfloat-blog.git # Usar tu ruta 
GIT_WORK_TREE=/home/ismaelph/hardfloat-blog # Usar tu ruta

if [ ! -d $GIT_WORK_TREE ]; then
        mkdir $GIT_WORK_TREE
fi

git --git-dir=$GIT_DIR --work-tree=$GIT_WORK_TREE checkout -f main # Aqui te pone master cambiala por la rama que tu vallas a usar en mi caso main
cd $GIT_WORK_TREE
git --git-dir=$GIT_DIR --work-tree=$GIT_WORK_TREE submodule update --init --recursive
docker compose -f docker-compose.yml down &&
docker compose -f docker-compose.yml up -d